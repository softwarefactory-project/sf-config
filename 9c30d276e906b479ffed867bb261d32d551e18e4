{
  "comments": [
    {
      "key": {
        "uuid": "dac4157f_88ca7f4e",
        "filename": "ansible/roles/sf-gateway/templates/gateway.common.j2",
        "patchSetId": 18
      },
      "lineNbr": 159,
      "author": {
        "id": 6
      },
      "writtenOn": "2017-09-06T10:58:00Z",
      "side": 1,
      "message": "Awesome !",
      "range": {
        "startLine": 159,
        "startChar": 39,
        "endLine": 159,
        "endChar": 43
      },
      "revId": "9c30d276e906b479ffed867bb261d32d551e18e4",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "dac4157f_48fc673e",
        "filename": "ansible/roles/sf-gateway/templates/gateway.common.j2",
        "patchSetId": 18
      },
      "lineNbr": 159,
      "author": {
        "id": 7
      },
      "writtenOn": "2017-09-06T11:20:54Z",
      "side": 1,
      "message": "Indeed, thanks to tobias actually!",
      "parentUuid": "dac4157f_88ca7f4e",
      "revId": "9c30d276e906b479ffed867bb261d32d551e18e4",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "dac4157f_883f1f25",
        "filename": "ansible/roles/sf-repos/tasks/setup_zuul_jobs.yml",
        "patchSetId": 18
      },
      "lineNbr": 7,
      "author": {
        "id": 6
      },
      "writtenOn": "2017-09-06T10:58:00Z",
      "side": 1,
      "message": "nit but \"reset config repo\" is a bit worrying :D Could you replace by: \"Add zuulV3 directory to the config repo\". Also it seems that only an empty README will be added could you add a sentence defining the meaning of that directory ?",
      "range": {
        "startLine": 7,
        "startChar": 12,
        "endLine": 7,
        "endChar": 29
      },
      "revId": "9c30d276e906b479ffed867bb261d32d551e18e4",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "dac4157f_68d84bf0",
        "filename": "ansible/roles/sf-repos/tasks/setup_zuul_jobs.yml",
        "patchSetId": 18
      },
      "lineNbr": 7,
      "author": {
        "id": 7
      },
      "writtenOn": "2017-09-06T11:20:54Z",
      "side": 1,
      "message": "oh indeed, good idea.",
      "parentUuid": "dac4157f_883f1f25",
      "revId": "9c30d276e906b479ffed867bb261d32d551e18e4",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "dac4157f_a810a3a9",
        "filename": "ansible/roles/sf-repos/tasks/setup_zuul_jobs.yml",
        "patchSetId": 18
      },
      "lineNbr": 93,
      "author": {
        "id": 6
      },
      "writtenOn": "2017-09-06T10:58:00Z",
      "side": 1,
      "message": "Could it be done only once in update_zuul_jobs ?",
      "range": {
        "startLine": 72,
        "startChar": 2,
        "endLine": 93,
        "endChar": 61
      },
      "revId": "9c30d276e906b479ffed867bb261d32d551e18e4",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "dac4157f_88db9fed",
        "filename": "ansible/roles/sf-repos/tasks/setup_zuul_jobs.yml",
        "patchSetId": 18
      },
      "lineNbr": 93,
      "author": {
        "id": 7
      },
      "writtenOn": "2017-09-06T11:20:54Z",
      "side": 1,
      "message": "Well this is different than update, here we set the /root/zuul-jobs directory.",
      "parentUuid": "dac4157f_a810a3a9",
      "revId": "9c30d276e906b479ffed867bb261d32d551e18e4",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "dac4157f_d3a4ac09",
        "filename": "ansible/roles/sf-repos/tasks/setup_zuul_jobs.yml",
        "patchSetId": 18
      },
      "lineNbr": 93,
      "author": {
        "id": 6
      },
      "writtenOn": "2017-09-07T00:44:19Z",
      "side": 1,
      "message": "My feeling is that can be slightly refactored to avoid code duplication. But I won\u0027t block on that.",
      "parentUuid": "dac4157f_88db9fed",
      "revId": "9c30d276e906b479ffed867bb261d32d551e18e4",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "dac4157f_8826ff14",
        "filename": "ansible/roles/sf-repos/templates/zuul-jobs/playbooks/base-test/post.yaml.j2",
        "patchSetId": 18
      },
      "lineNbr": 5,
      "author": {
        "id": 6
      },
      "writtenOn": "2017-09-06T10:58:00Z",
      "side": 1,
      "message": "Ok I understand better here we define a new host in the job context inventory that is the log server of SF.",
      "revId": "9c30d276e906b479ffed867bb261d32d551e18e4",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "dac4157f_6823ab06",
        "filename": "ansible/roles/sf-repos/templates/zuul-jobs/playbooks/base-test/post.yaml.j2",
        "patchSetId": 18
      },
      "lineNbr": 12,
      "author": {
        "id": 6
      },
      "writtenOn": "2017-09-06T10:58:00Z",
      "side": 1,
      "message": "If an additional logserver is defined in SF what will be the process to use it ? defining a custom playbook in config/zuulV3 ?",
      "revId": "9c30d276e906b479ffed867bb261d32d551e18e4",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "dac4157f_48e587a6",
        "filename": "ansible/roles/sf-repos/templates/zuul-jobs/playbooks/base-test/post.yaml.j2",
        "patchSetId": 18
      },
      "lineNbr": 12,
      "author": {
        "id": 7
      },
      "writtenOn": "2017-09-06T11:20:54Z",
      "side": 1,
      "message": "Additional logserver should be used with additional post jobs or a different base jobs.",
      "parentUuid": "dac4157f_6823ab06",
      "revId": "9c30d276e906b479ffed867bb261d32d551e18e4",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "dac4157f_4820e7f7",
        "filename": "ansible/roles/sf-repos/templates/zuul-jobs/playbooks/base/post.yaml.j2",
        "patchSetId": 18
      },
      "lineNbr": 13,
      "author": {
        "id": 6
      },
      "writtenOn": "2017-09-06T10:58:00Z",
      "side": 1,
      "message": "What the purpose of having base and base-test I only see a - prepare-workspace call as the diff here. Could you explain ?",
      "revId": "9c30d276e906b479ffed867bb261d32d551e18e4",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "dac4157f_a88783d6",
        "filename": "ansible/roles/sf-repos/templates/zuul-jobs/zuul.d/_jobs-base.yaml.j2",
        "patchSetId": 18
      },
      "lineNbr": 1,
      "author": {
        "id": 6
      },
      "writtenOn": "2017-09-06T10:58:00Z",
      "side": 1,
      "message": "This file is not a template now :)",
      "revId": "9c30d276e906b479ffed867bb261d32d551e18e4",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "dac4157f_28e253a0",
        "filename": "ansible/roles/sf-repos/templates/zuul-jobs/zuul.d/_jobs-base.yaml.j2",
        "patchSetId": 18
      },
      "lineNbr": 1,
      "author": {
        "id": 7
      },
      "writtenOn": "2017-09-06T11:20:54Z",
      "side": 1,
      "message": "Yes, but it makes the ansible |changed logic easier",
      "parentUuid": "dac4157f_a88783d6",
      "revId": "9c30d276e906b479ffed867bb261d32d551e18e4",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "dac4157f_c882b7c8",
        "filename": "ansible/roles/sf-repos/templates/zuul-jobs/zuul.d/_jobs-base.yaml.j2",
        "patchSetId": 18
      },
      "lineNbr": 6,
      "author": {
        "id": 6
      },
      "writtenOn": "2017-09-06T10:58:00Z",
      "side": 1,
      "message": "Could you use the same layout\npre-run:\n  - playbooks/...",
      "revId": "9c30d276e906b479ffed867bb261d32d551e18e4",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "dac4157f_08ee6f8b",
        "filename": "ansible/roles/sf-repos/templates/zuul-jobs/zuul.d/_jobs-base.yaml.j2",
        "patchSetId": 18
      },
      "lineNbr": 6,
      "author": {
        "id": 7
      },
      "writtenOn": "2017-09-06T11:20:54Z",
      "side": 1,
      "message": "It\u0027s how upstream define it\u0027s base job so...",
      "parentUuid": "dac4157f_c882b7c8",
      "revId": "9c30d276e906b479ffed867bb261d32d551e18e4",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "dac4157f_e87d7be8",
        "filename": "ansible/roles/sf-repos/templates/zuul-jobs/zuul.d/_jobs-base.yaml.j2",
        "patchSetId": 18
      },
      "lineNbr": 11,
      "author": {
        "id": 6
      },
      "writtenOn": "2017-09-06T10:58:00Z",
      "side": 1,
      "message": "Is it seconds here ? and is it timeout for a job ? In that 30 minutes really short.",
      "range": {
        "startLine": 11,
        "startChar": 13,
        "endLine": 11,
        "endChar": 17
      },
      "revId": "9c30d276e906b479ffed867bb261d32d551e18e4",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "dac4157f_e8f21b6f",
        "filename": "ansible/roles/sf-repos/templates/zuul-jobs/zuul.d/_jobs-base.yaml.j2",
        "patchSetId": 18
      },
      "lineNbr": 11,
      "author": {
        "id": 7
      },
      "writtenOn": "2017-09-06T11:20:54Z",
      "side": 1,
      "message": "It\u0027s second, and 30 minutes should be enough for most job, longer one just have to define a longer timeout!",
      "parentUuid": "dac4157f_e87d7be8",
      "revId": "9c30d276e906b479ffed867bb261d32d551e18e4",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "dac4157f_b3a938e2",
        "filename": "ansible/roles/sf-repos/templates/zuul-jobs/zuul.d/_jobs-base.yaml.j2",
        "patchSetId": 18
      },
      "lineNbr": 11,
      "author": {
        "id": 6
      },
      "writtenOn": "2017-09-07T00:44:19Z",
      "side": 1,
      "message": "In that case does another base job need to be written ? or timeout defined in a children job will be inherited ?",
      "parentUuid": "dac4157f_e8f21b6f",
      "revId": "9c30d276e906b479ffed867bb261d32d551e18e4",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "dac4157f_73acc0ed",
        "filename": "ansible/roles/sf-repos/templates/zuul-jobs/zuul.d/_jobs-base.yaml.j2",
        "patchSetId": 18
      },
      "lineNbr": 11,
      "author": {
        "id": 7
      },
      "writtenOn": "2017-09-07T01:03:16Z",
      "side": 1,
      "message": "Yes, all the settings of the base job can be changed by a child job.",
      "parentUuid": "dac4157f_b3a938e2",
      "revId": "9c30d276e906b479ffed867bb261d32d551e18e4",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "dac4157f_886ddf34",
        "filename": "ansible/roles/sf-repos/templates/zuul-jobs/zuul.d/_pipelines.yaml.j2",
        "patchSetId": 18
      },
      "lineNbr": 19,
      "author": {
        "id": 6
      },
      "writtenOn": "2017-09-06T10:58:00Z",
      "side": 1,
      "message": "You may want to remove the tabulations here.",
      "revId": "9c30d276e906b479ffed867bb261d32d551e18e4",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "dac4157f_c8e757ab",
        "filename": "ansible/roles/sf-repos/templates/zuul-jobs/zuul.d/_pipelines.yaml.j2",
        "patchSetId": 18
      },
      "lineNbr": 19,
      "author": {
        "id": 7
      },
      "writtenOn": "2017-09-06T11:20:54Z",
      "side": 1,
      "message": "Heh indeed, nasty emacs :)",
      "parentUuid": "dac4157f_886ddf34",
      "revId": "9c30d276e906b479ffed867bb261d32d551e18e4",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "dac4157f_686a8b1c",
        "filename": "ansible/roles/sf-repos/templates/zuul-jobs/zuul.d/_pipelines.yaml.j2",
        "patchSetId": 18
      },
      "lineNbr": 125,
      "author": {
        "id": 6
      },
      "writtenOn": "2017-09-06T10:58:00Z",
      "side": 1,
      "message": "Interesting :)",
      "revId": "9c30d276e906b479ffed867bb261d32d551e18e4",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "dac4157f_4877c702",
        "filename": "ansible/roles/sf-repos/templates/zuul-jobs/zuul.d/_sflogs_secrets.yaml.j2",
        "patchSetId": 18
      },
      "lineNbr": 8,
      "author": {
        "id": 6
      },
      "writtenOn": "2017-09-06T10:58:00Z",
      "side": 1,
      "message": "Is the yaml key missing ?",
      "revId": "9c30d276e906b479ffed867bb261d32d551e18e4",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "dac4157f_a8ec2390",
        "filename": "ansible/roles/sf-repos/templates/zuul-jobs/zuul.d/_sflogs_secrets.yaml.j2",
        "patchSetId": 18
      },
      "lineNbr": 8,
      "author": {
        "id": 7
      },
      "writtenOn": "2017-09-06T11:20:54Z",
      "side": 1,
      "message": "It\u0027s part of the stdout, that\u0027s because of indentation.",
      "parentUuid": "dac4157f_4877c702",
      "revId": "9c30d276e906b479ffed867bb261d32d551e18e4",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "dac4157f_287493fb",
        "filename": "ansible/roles/sf-ssh/tasks/setup.yml",
        "patchSetId": 18
      },
      "lineNbr": 8,
      "author": {
        "id": 6
      },
      "writtenOn": "2017-09-06T10:58:00Z",
      "side": 1,
      "message": "You should maybe add the zuul_rsa_key too here for the sake of consistency ?",
      "revId": "9c30d276e906b479ffed867bb261d32d551e18e4",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "dac4157f_88027f3d",
        "filename": "ansible/roles/sf-ssh/tasks/setup.yml",
        "patchSetId": 18
      },
      "lineNbr": 8,
      "author": {
        "id": 7
      },
      "writtenOn": "2017-09-06T11:20:54Z",
      "side": 1,
      "message": "We need to discuss how the config-update job will work with zuulv3.",
      "parentUuid": "dac4157f_287493fb",
      "revId": "9c30d276e906b479ffed867bb261d32d551e18e4",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "dac4157f_c8599790",
        "filename": "ansible/roles/sf-zuul3/templates/zuul.conf.j2",
        "patchSetId": 18
      },
      "lineNbr": 31,
      "author": {
        "id": 6
      },
      "writtenOn": "2017-09-06T10:58:00Z",
      "side": 1,
      "message": "No var for that path ?",
      "range": {
        "startLine": 31,
        "startChar": 23,
        "endLine": 31,
        "endChar": 51
      },
      "revId": "9c30d276e906b479ffed867bb261d32d551e18e4",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "dac4157f_68ff2b35",
        "filename": "ansible/roles/sf-zuul3/templates/zuul.conf.j2",
        "patchSetId": 18
      },
      "lineNbr": 31,
      "author": {
        "id": 7
      },
      "writtenOn": "2017-09-06T11:20:54Z",
      "side": 1,
      "message": "This is actually no longer needed since the ssh key is in the repos now.",
      "parentUuid": "dac4157f_c8599790",
      "revId": "9c30d276e906b479ffed867bb261d32d551e18e4",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "dac4157f_ff177752",
        "filename": "scripts/zuul3-conf-merger.py",
        "patchSetId": 18
      },
      "lineNbr": 54,
      "author": {
        "id": 68
      },
      "writtenOn": "2017-09-04T12:34:53Z",
      "side": 1,
      "message": "this allows tenants with similar names. Is this prevented somewhere else ? Or is this actually supported ?",
      "revId": "9c30d276e906b479ffed867bb261d32d551e18e4",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "dac4157f_9f163b54",
        "filename": "scripts/zuul3-conf-merger.py",
        "patchSetId": 18
      },
      "lineNbr": 54,
      "author": {
        "id": 7
      },
      "writtenOn": "2017-09-04T12:49:34Z",
      "side": 1,
      "message": "It seems like this is prevented line 42.",
      "parentUuid": "dac4157f_ff177752",
      "revId": "9c30d276e906b479ffed867bb261d32d551e18e4",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "dac4157f_df1cb379",
        "filename": "scripts/zuul3-encrypt-secret.py",
        "patchSetId": 18
      },
      "lineNbr": 2,
      "author": {
        "id": 68
      },
      "writtenOn": "2017-09-04T12:34:53Z",
      "side": 1,
      "message": "this couldn\u0027t be kept upstream?",
      "revId": "9c30d276e906b479ffed867bb261d32d551e18e4",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "dac4157f_7f0c8742",
        "filename": "scripts/zuul3-encrypt-secret.py",
        "patchSetId": 18
      },
      "lineNbr": 2,
      "author": {
        "id": 7
      },
      "writtenOn": "2017-09-04T12:49:34Z",
      "side": 1,
      "message": "no because upstream version is using the http interface which is not ready when we want to generate the sflogs secret. Moreover, the upstream version is printing a full secret block while this one only print the encrypted data to be used in _sflogs_secrets.yaml.j2 template.",
      "parentUuid": "dac4157f_df1cb379",
      "revId": "9c30d276e906b479ffed867bb261d32d551e18e4",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0",
      "unresolved": false
    }
  ]
}