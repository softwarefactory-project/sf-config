<Directory "/var/www/logs/">
    Options Indexes SymLinksIfOwnerMatch
    Require all granted
    IndexOptions FancyIndexing HTMLTable NameWidth=* SuppressDescription
    HeaderName /static/index-header.html
</Directory>

<FilesMatch ".*html\.gz$">
    ForceType text/html
</FilesMatch>
<FilesMatch ".*js\.gz$">
    ForceType text/javascript
</FilesMatch>
<FilesMatch ".*css\.gz$">
    ForceType text/css
</FilesMatch>
<FilesMatch ".*woff2\.gz$">
    ForceType application/font-woff2
</FilesMatch>
<FilesMatch ".*\.gz$">
    AddDefaultCharset UTF-8
    AddEncoding x-gzip gz
</FilesMatch>

<LocationMatch "/logs/">
    RewriteEngine On
    RewriteRule ^/var/www/logs/(.*console\.html)$ /htmlify/$1 [QSA,L,PT]
    RewriteRule ^/var/www/logs/(.*\.txt\.gz)$ /htmlify/$1 [QSA,L,PT]

    RewriteCond %{HTTP:Accept-Encoding} gzip
    RewriteCond /var/www/%{REQUEST_URI}.gz -f
    RewriteRule ^(.*)$ $1.gz [L,PT]
</LocationMatch>

Alias "/logs-raw" "/var/www/logs"

<Directory "/usr/lib/python2.7/site-packages/os_loganalyze/">
    Require all granted
</Directory>
SetEnv OS_LOGANALYZE_ROOT_PATH /var/www/logs/
WSGIScriptAlias /htmlify /usr/lib/python2.7/site-packages/os_loganalyze/wsgi.py
