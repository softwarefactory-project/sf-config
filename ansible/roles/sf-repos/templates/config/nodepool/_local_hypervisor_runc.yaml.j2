# This file is managed by sfconfig, do not edit manually
# The nodes list is generated from the sfconfig.nodepool.runc_nodes configuration
{% if not tenant_deployment %}
{% if 'hypervisor-runc' in roles %}

labels:
  - name: runc-centos
    min-ready: 2

providers:
  - name: managed-runc-provider
    driver: static
    pools:
{% for host in inventory %}
{% if 'hypervisor-runc' in host['roles'] %}
      - name: {{ host['hostname'] }}
        nodes:
{% for node in runc[host['hostname']] %}
          - name: {{ host['hostname'] }}
            labels: runc-centos
            connection-port: {{ node.port }}
            username: zuul-worker
{% endfor %}
{% endif %}
{% endfor %}
{% endif %}
{% endif %}
