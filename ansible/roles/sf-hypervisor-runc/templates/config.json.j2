{
    "hostname": "{{ node.label }}-{{ node.port }}",
    "linux": {
        "maskedPaths": [
            "/proc/kcore",
            "/proc/latency_stats",
            "/proc/timer_list",
            "/proc/timer_stats",
            "/proc/sched_debug",
            "/sys/firmware"
        ],
        "namespaces": [
            {"type": "pid"},
            {"type": "ipc"},
            {"type": "uts"},
            {"type": "mount"}
        ],
        "readonlyPaths": [
            "/proc/asound",
            "/proc/bus",
            "/proc/fs",
            "/proc/irq",
            "/proc/sys",
            "/proc/sysrq-trigger"
        ],
        "resources": {
            "devices": [
                {
                    "access": "rwm",
                    "allow": false
                }
            ]
        }
    },
    "mounts": [
        {
            "destination": "/proc",
            "source": "proc",
            "type": "proc"
        }, {
            "destination": "/dev",
            "options": ["nosuid", "strictatime", "mode=755", "size=65536k"],
            "source": "tmpfs",
            "type": "tmpfs"
        }, {
            "destination": "/dev/pts",
            "options": ["nosuid", "noexec", "newinstance", "ptmxmode=0666", "mode=0620", "gid=5"],
            "source": "devpts",
            "type": "devpts"
        }, {
            "destination": "/dev/shm",
            "options": ["nosuid", "noexec", "nodev", "mode=1777", "size=65536k"],
            "source": "tmpfs",
            "type": "tmpfs"
        }, {
            "destination": "/dev/mqueue",
            "options": ["nosuid", "noexec", "nodev"],
            "source": "mqueue",
            "type": "mqueue"
        }, {
            "destination": "/sys",
            "options": ["nosuid", "noexec", "nodev", "ro"],
            "source": "sysfs",
            "type": "sysfs"
        }, {
            "destination": "/sys/fs/cgroup",
            "options": ["nosuid", "noexec", "nodev", "relatime", "ro"],
            "source": "cgroup",
            "type": "cgroup"
        }, {
            "destination": "/var/tmp",
            "options": ["mode=1777", "size=2G"],
            "source": "tmpfs",
            "type": "tmpfs"
        }, {
            "destination": "/var/run",
            "options": ["mode=0755", "size=2G"],
            "source": "tmpfs",
            "type": "tmpfs"
        }, {
            "destination": "/home/zuul-worker",
            "options": ["bind", "rw"],
            "source": "/var/lib/runc/{{ node.port }}/home",
            "type": "bind"
        }, {
            "destination": "/tmp",
            "options": ["bind", "rw"],
            "source": "/tmp",
            "type": "bind"
        }
    ],
    "ociVersion": "1.0.0",
    "process": {
        "args": [
           "/sbin/sshd", "-p", "{{ node.port }}", "-e", "-D", "-o", "UsePrivilegeSeparation=no", "-o", "UsePAM=no", "-o", "UseDNS=no", "-o", "PidFile=none"
        ],
        "capabilities": {
            "ambient": [
                "CAP_AUDIT_WRITE",
                "CAP_KILL",
                "CAP_NET_BIND_SERVICE",
                "CAP_SETUID",
                "CAP_SETGID",
                "CAP_IPC_LOCK",
                "CAP_CHOWN",
                "CAP_SYS_CHROOT"
            ],
            "bounding": [
                "CAP_AUDIT_WRITE",
                "CAP_KILL",
                "CAP_NET_BIND_SERVICE",
                "CAP_SETUID",
                "CAP_SETGID",
                "CAP_IPC_LOCK",
                "CAP_CHOWN",
                "CAP_SYS_CHROOT"
            ],
            "effective": [
                "CAP_AUDIT_WRITE",
                "CAP_KILL",
                "CAP_NET_BIND_SERVICE",
                "CAP_SETUID",
                "CAP_SETGID",
                "CAP_IPC_LOCK",
                "CAP_CHOWN",
                "CAP_SYS_CHROOT"
            ],
            "inheritable": [
                "CAP_AUDIT_WRITE",
                "CAP_KILL",
                "CAP_NET_BIND_SERVICE",
                "CAP_SETUID",
                "CAP_SETGID",
                "CAP_IPC_LOCK",
                "CAP_CHOWN",
                "CAP_SYS_CHROOT"
            ],
            "permitted": [
                "CAP_AUDIT_WRITE",
                "CAP_KILL",
                "CAP_NET_BIND_SERVICE",
                "CAP_SETUID",
                "CAP_SETGID",
                "CAP_IPC_LOCK",
                "CAP_CHOWN",
                "CAP_SYS_CHROOT"
            ]
        },
        "cwd": "/",
        "env": [
            "PATH=/home/zuul-worker/.local/bin:/bin:/sbin:/usr/bin:/usr/sbin:/usr/local/bin:/usr/local/sbin",
            "LC_ALL=en_US.UTF-8",
            "SHLVL=1",
            "TERM=xterm"
        ],
        "noNewPrivileges": false,
        "rlimits": [
            {
                "hard": 1024,
                "soft": 1024,
                "type": "RLIMIT_NOFILE"
            }
        ],
        "terminal": false,
        "user": {
            "gid": 0,
            "uid": 0
        }
    },
    "root": {
        "path": "{{ node.rootfs }}",
        "readonly": true
    }
}
