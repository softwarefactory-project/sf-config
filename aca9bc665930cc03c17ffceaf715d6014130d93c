{
  "comments": [
    {
      "key": {
        "uuid": "dac4157f_531adc18",
        "filename": "scripts/smart-restart.py",
        "patchSetId": 1
      },
      "lineNbr": 44,
      "author": {
        "id": 6
      },
      "writtenOn": "2017-09-07T06:46:19Z",
      "side": 1,
      "message": "Could you add an explanation in the script header or via the help argparse var about the purpose of that script because that\u0027s not obvious for the user.",
      "revId": "aca9bc665930cc03c17ffceaf715d6014130d93c",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "dac4157f_b3aff893",
        "filename": "scripts/smart-restart.py",
        "patchSetId": 1
      },
      "lineNbr": 44,
      "author": {
        "id": 7
      },
      "writtenOn": "2017-09-07T07:01:39Z",
      "side": 1,
      "message": "Things is, this isn\u0027t a user script, it\u0027s only useful for automated operation. I except the user to look at zuul status before deciding to restart it.\nBut faire enough, i\u0027ll add a description.",
      "parentUuid": "dac4157f_531adc18",
      "revId": "aca9bc665930cc03c17ffceaf715d6014130d93c",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "dac4157f_73e4c00c",
        "filename": "scripts/smart-restart.py",
        "patchSetId": 1
      },
      "lineNbr": 52,
      "author": {
        "id": 6
      },
      "writtenOn": "2017-09-07T06:46:19Z",
      "side": 1,
      "message": "Is the stop really handle in that script ?",
      "range": {
        "startLine": 52,
        "startChar": 51,
        "endLine": 52,
        "endChar": 57
      },
      "revId": "aca9bc665930cc03c17ffceaf715d6014130d93c",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "dac4157f_93951442",
        "filename": "scripts/smart-restart.py",
        "patchSetId": 1
      },
      "lineNbr": 52,
      "author": {
        "id": 7
      },
      "writtenOn": "2017-09-07T07:01:39Z",
      "side": 1,
      "message": "Well I thought it could be useful for disable, but maybe disable action shouldn\u0027t wait for running jobs.",
      "parentUuid": "dac4157f_73e4c00c",
      "revId": "aca9bc665930cc03c17ffceaf715d6014130d93c",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "dac4157f_f3be90d3",
        "filename": "scripts/smart-restart.py",
        "patchSetId": 1
      },
      "lineNbr": 150,
      "author": {
        "id": 6
      },
      "writtenOn": "2017-09-07T06:46:19Z",
      "side": 1,
      "message": "Could you refactor in one function, the code is really similar.",
      "range": {
        "startLine": 84,
        "startChar": 0,
        "endLine": 150,
        "endChar": 15
      },
      "revId": "aca9bc665930cc03c17ffceaf715d6014130d93c",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "dac4157f_73928059",
        "filename": "scripts/smart-restart.py",
        "patchSetId": 1
      },
      "lineNbr": 150,
      "author": {
        "id": 7
      },
      "writtenOn": "2017-09-07T07:01:39Z",
      "side": 1,
      "message": "The \u0027are job running\u0027 logic may differ, i\u0027m not sure this refactor is worthy considering services name are different too.",
      "parentUuid": "dac4157f_f3be90d3",
      "revId": "aca9bc665930cc03c17ffceaf715d6014130d93c",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "dac4157f_d3b38c09",
        "filename": "scripts/smart-restart.py",
        "patchSetId": 1
      },
      "lineNbr": 160,
      "author": {
        "id": 6
      },
      "writtenOn": "2017-09-07T06:46:19Z",
      "side": 1,
      "message": "I would have preferred shutdown has name because that\u0027s really the shutdown that is smart. And in the msgs use stop or restart according to this option if not it is misleading.",
      "range": {
        "startLine": 160,
        "startChar": 4,
        "endLine": 160,
        "endChar": 11
      },
      "revId": "aca9bc665930cc03c17ffceaf715d6014130d93c",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "dac4157f_1388e421",
        "filename": "scripts/smart-restart.py",
        "patchSetId": 1
      },
      "lineNbr": 160,
      "author": {
        "id": 7
      },
      "writtenOn": "2017-09-07T07:01:39Z",
      "side": 1,
      "message": "I\u0027m not sure to understand, this script is doing a restart, why call it shutdown?",
      "parentUuid": "dac4157f_d3b38c09",
      "revId": "aca9bc665930cc03c17ffceaf715d6014130d93c",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "dac4157f_9320744b",
        "filename": "scripts/smart-restart.py",
        "patchSetId": 1
      },
      "lineNbr": 166,
      "author": {
        "id": 6
      },
      "writtenOn": "2017-09-07T06:46:19Z",
      "side": 1,
      "message": "3",
      "range": {
        "startLine": 166,
        "startChar": 23,
        "endLine": 166,
        "endChar": 24
      },
      "revId": "aca9bc665930cc03c17ffceaf715d6014130d93c",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "dac4157f_539f7c5f",
        "filename": "scripts/smart-restart.py",
        "patchSetId": 1
      },
      "lineNbr": 166,
      "author": {
        "id": 7
      },
      "writtenOn": "2017-09-07T07:01:39Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "dac4157f_9320744b",
      "revId": "aca9bc665930cc03c17ffceaf715d6014130d93c",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "dac4157f_93e75412",
        "filename": "scripts/smart-restart.py",
        "patchSetId": 1
      },
      "lineNbr": 192,
      "author": {
        "id": 6
      },
      "writtenOn": "2017-09-07T06:46:19Z",
      "side": 1,
      "message": "Could you explain why an exit code of 3 is something else than a failure for ansible I don\u0027t get it. systemctl restart does not return 3.",
      "revId": "aca9bc665930cc03c17ffceaf715d6014130d93c",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "dac4157f_339c0869",
        "filename": "scripts/smart-restart.py",
        "patchSetId": 1
      },
      "lineNbr": 192,
      "author": {
        "id": 7
      },
      "writtenOn": "2017-09-07T07:01:39Z",
      "side": 1,
      "message": "It\u0027s because the ansible task is doing a \u0027changed_when return code \u003d\u003d 3\u0027. I\u0027ll add this extra bit if you want.",
      "parentUuid": "dac4157f_93e75412",
      "revId": "aca9bc665930cc03c17ffceaf715d6014130d93c",
      "serverId": "6c1dc8ef-8b94-40e4-bd83-c2359d45ecc0",
      "unresolved": false
    }
  ]
}