---
# This file is managed by ansible, don't edit

# Call disable tasks with erase flag on
{% for host in inventory %}
- hosts: {{ host['hostname'] }}
  roles:
{% for role in host['rolesname'] %}
{% if role != 'sf-mysql' and role != 'sf-install-server' %}
    - name: "{{ role }}"
      action: disable
{% if role == "sf-nodepool" %}
      nodepool_services: {{ host["nodepool_services"] }}
{% elif role == "sf-zuul" %}
      zuul_services: {{ host["zuul_services"] }}
{% endif %}
{% endif %}{% endfor %}

{% endfor %}
# Disable mysql after services
- hosts: mysql
  roles:
    - name: sf-mysql
      action: disable

# Disable install-server after mysql
- hosts: install-server
  roles:
    - name: sf-install-server
      action: disable

# Disable base at last
- hosts: all
  roles:
    - name: sf-base
      action: disable
